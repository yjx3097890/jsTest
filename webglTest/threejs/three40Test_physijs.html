<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript" src="three.js"></script>
    <script type="text/javascript" src="physi.js"></script>

    <script type="text/javascript">



        Physijs.scripts.worker = 'physijs_worker.js';
        Physijs.scripts.ammo = 'ammo.js';

        var initScene, render, renderer, scene, camera, box;

        initScene = function() {
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize( window.innerWidth, window.innerHeight );
            document.getElementById( 'viewport' ).appendChild( renderer.domElement );

            scene = new Physijs.Scene();

            camera = new THREE.PerspectiveCamera(
                    35,
                    window.innerWidth / window.innerHeight,
                    1,
                    1000
            );
            camera.position.set(0, 20, 100 );
            camera.lookAt( scene.position );
            scene.add( camera );

            var light = new THREE.DirectionalLight(0xffffff, 0.5);
            light.position.set(-10, 10, 10);
            scene.add(light);

            // Box
            box = new Physijs.BoxMesh(
                    new THREE.CubeGeometry( 5, 5, 5 ),
                    new THREE.MeshPhongMaterial({ color: 0xaaaaaa, anbient: 0xffffff, specular: 0xeeeeee })
            );
            scene.add( box );

            var plane = new Physijs.PlaneMesh(new THREE.PlaneGeometry(30, 30), new THREE.MeshBasicMaterial({color:0xff0000}));
            plane.position.set(0, -20, 0);
            plane.rotation.x = - Math.PI / 2;
            scene.add(plane);

             render();
        };

        render = function() {
            scene.simulate(); // run physics
            renderer.render( scene, camera); // render the scene
            requestAnimationFrame( render );
        };

        window.onload = initScene;

    </script>
</head>

<body>
<div id="viewport"></div>
</body>
</html>