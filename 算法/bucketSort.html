<!DOCTYPE html>
<html >
<head>
<title>what you see is what you get</title>
</head>
<body>

<script type="text/javascript">
//数字可以为小数
	function bucketSort(array){
		var len = array.length,
        buckets = [],
        result = [], i, bucket;
        
        for (i=0; i<len; i++) {
            bucket = buckets[Math.floor(array[i] * len)];
            if (typeof bucket === "undefined") {
                bucket = buckets[Math.floor(array[i] * len)] = [];
            }
            bucket.push(array[i]);
        }
        
        for (i in buckets) {
            bucket = buckets[i];
            if (Object.prototype.toString.call(bucket) === "[object Array]") {
                bubble(bucket);
            }
            result = result.concat(bucket);
        }

        return result;
	}
    
  function bubble(array){
	var i,j,len=array.length;
	for(i=0;i<len;i++){
		for(j=len;j>i;j--){
			if(array[j]<array[j-1]){
				swap(array,j,j-1);
			}
		}
	}
}
function swap(array,k,l){
	var temp=array[k];
	array[k]=array[l];
	array[l]=temp;
}
	
	var test=[2.2,5.5,3.2,2.1,6,7,5,4.3,9,22];
	console.log(bucketSort(test));
</script>
</body>
</html>