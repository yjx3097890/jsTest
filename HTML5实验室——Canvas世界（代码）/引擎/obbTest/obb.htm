<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="Vector2.js" type="text/javascript"></script>
    <script src="OBB.js" type="text/javascript"></script>
    <script src="CollisionDetector.js" type="text/javascript"></script>
      <script src="../JS/PE/easel.js" type="text/javascript"></script>
</head>
<body>
    <canvas id="testCanvas" width="980" height="580">
    </canvas>
    <script>
        var OBB1, OBB1x = 100, OBB1y = 150, OBB1w = 30, OBB1h = 140, OBB1r = 30;
        var OBB2, OBB2x = 100, OBB2y = 70, OBB2w = 40, OBB2h = 110, OBB2r = 40;
        var OBB1, OBB2;
        var canvas;
        var stage;
        var color;

        function init() {

            canvas = document.getElementById("testCanvas");
            stage = new Stage(canvas);

            Ticker.addListener(window);
        }
     
        function tick() {
            stage.removeAllChildren();

            OBB1r += 2;
            OBB2r += 1;
            OBB1 = new OBB(new Vector2(OBB1x, OBB1y), OBB1w, OBB1h, OBB1r * Math.PI / 180);
            OBB2 = new OBB(new Vector2(OBB2x, OBB2y), OBB2w, OBB2h, OBB2r * Math.PI / 180);
            var r = CollisionDetector.detectorOBBvsOBB(OBB1, OBB2);
            if (r) {
                color = "red"
            }
            else {
                color = "#00F";
            }
            OBB1 = new Container();
            stage.addChild(OBB1);
            OBB1.x = OBB1x;
            OBB1.y = OBB1y;
            var frame1 = new Shape();
            frame1.graphics.beginFill(color).drawRect(0, 0, OBB1w, OBB1h);
            frame1.rotation = OBB1r;
            frame1.regX = OBB1w / 2;
            frame1.regY = OBB1h / 2;
            OBB1.addChild(frame1);

            OBB2 = new Container();
            stage.addChild(OBB2);
            OBB2.x = OBB2x;
            OBB2.y = OBB2y;
            var frame2 = new Shape();
            frame2.graphics.beginFill(color).drawRect(0, 0, OBB2w, OBB2h);
            frame2.rotation = OBB2r;
            frame2.regX = OBB2w / 2;
            frame2.regY = OBB2h / 2;
            OBB2.addChild(frame2);

            stage.update();
        }
        init();






    </script>
</body>
</html>
